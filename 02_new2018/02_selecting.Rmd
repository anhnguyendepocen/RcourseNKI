---
title: "Vectors"
date: "`r format(Sys.time(), '%d %B %Y')`"
---

```{r setup,include=FALSE,eval=TRUE}
source( "../R_course_setup.R" );
```

# Vectors

Vectors are data structures which are able to store multiple elements in a defined order.

There are several ways to access (single/multiple) elements from vectors which are discussed below.

## Square brackets operator

### By numbers

Vector elements are kept at successive, numbered (indexed) positions. 
R vectors keep the first element at index 1 and the last element at index which can be obtained with the function `length`.

The indices can be used to fetch elements from the corresponding positions with the square bracket operators `[ pos ]`.

Let's take a vector:
```{r}
v <- 101:110
```

To get the first element of `v`:
```{r}
v[1]
```

To get the last element of `v`:
```{r}
v[ length( v ) ]
```

To get an element at a given index:
```{r}
v[ 5 ]
```

Setting a single element:
```{r}
v
v[ 2 ] <- 22
v
```

Getting multiple elements:
```{r}
v[ c( 2,4,7 ) ]
```

Setting multiple elements:
```{r}
v[ c( 2,4,7 ) ] <- c( 22, 24, 27 )
v
```

### By names

Elements of the vectors can also be given names, i.e. `named vector`. Let's take a vector:
```{r}
v <- 101:110
v
```

Setting names of vector elements:
```{r}
names( v ) <- LETTERS[ 1:length( v ) ]
v
```

Getting names of vector elements:
```{r}
names( v )
```

Accessing elements (single or multiple) by names:
```{r}
v[ "C" ]
v[ c( "F", "H" ) ]
```

### By condition (logical indices)

Let's take a vector:

```{r}
v <- 101:110
v
```

Now let's construct a logical vector `idx` with the same number of elements as `v`:

```{r}
idx <- c( F, F, F, T, F, T, F, F, T, NA )
```

`v` can now be "filtered through" `idx`. The elements of `v` corresponding to positions in `idx` are selected or not according to:

  - `TRUE` in `idx`, then the element appears in the result;
  - `NA` in `idx`, then the element is substituted with `NA` in the result;
  - `FALSE` in `idx`, then the element is skipped.

In the example above:

```{r}
v[ idx ]
```

A logical vector like `idx` is typically a result of equality/comparison, or is generated by specialized functions. For example, if we wish to select entries in `v` that have values at least equal to 102 and smaller than 106, we could use:

```{r}
v
idx <- v >= 102 & v < 106
idx
v[ idx ]
```

Indices given by a logical vector are referred to as *logical indices*.


```{r results="asis", echo=FALSE, comment=""}
catLinkTaskSection( "brackets", "02_selecting.Rmd" );
```

## Through utility functions  (approx. L:2min, T:33min)

There is a number of functions which provide specialized indices or use them for frequently used operations.
These functions we will practice as tasks.

### Result is original vector reordered/sliced

- reorder/sample a vector randomly: `sample`
- reverse a vector: `rev`
- sort a vector: `sort`
- unique elements of a vector: `unique`

### Result is a vector of indices

- index of the largest/smallest element: `which.max`, `which.min`
- indices where a logical vector is `TRUE`: `which`
- indices at which elements of one vector `match` another vector: `match`
- indices ordered so, that the elements of a vector would get ordered: `order`

### Result is a logical vector

- which element(s) are available/missing: `is.na`
- whether elements of one vector are present in another vector: `%in%`
- whether elements of a vector get duplicated: `duplicated`

### (*) Other

- produce a vector with ranks of elements of another vector: `rank`

```{r results="asis", echo=FALSE, comment=""}
catLinkTaskSection( "utility", "02_selecting.Rmd" );
```
